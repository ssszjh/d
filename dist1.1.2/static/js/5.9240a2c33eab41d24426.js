webpackJsonp([5],{OBmA:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=a("eWoK"),s={data:function(){return{isShow:!1,int:"",remainder:"",num:1,good:[{title:"",image:"",price_original:"",price_current:"",lanched_date:"",num:"",id:""}]}},created:function(){var t=this;this.int=parseInt((this.$route.query.id-1)/4)+1,this.remainder=(this.$route.query.id-1)%4,this.$axios.get("/goods_getListByPage?page="+this.int).then(function(i){t.good[0].title=i.data.list[t.remainder].title,t.good[0].image=i.data.list[t.remainder].image,t.good[0].price_original=i.data.list[t.remainder].price_original,t.good[0].price_current=i.data.list[t.remainder].price_current,t.good[0].lanched_date=i.data.list[t.remainder].lanched_date,t.good[0].num=i.data.list[t.remainder].num,t.good[0].id=i.data.list[t.remainder].goods_id}).catch(function(t){console.log(t)})},methods:{reduce:function(){this.num<=1?this.$toast({message:"已经是最小购买数量了",position:"middle",duration:1e3}):this.num--},add:function(){this.num>=this.good[0].num?this.$toast({message:"已经是最大的购买数量了",position:"middle",duration:1e3}):this.num++},addShoppingCart:function(){e.a.$emit("add",this.num),this.$axios.post("/cart_addGoodsToCart","goods_id="+this.good[0].id+"&goods_num="+this.num+"&username=zzz").then(function(t){}).catch(function(t){console.log(t)}),this.isShow=!0},afterenter:function(){this.isShow=!1}}},n={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"tmpl"},[a("nav-bar",{attrs:{title:"商品详情"}}),t._v(" "),a("div",{staticClass:"outer-swiper"},[a("div",{staticClass:"swiper"},[a("img",{attrs:{src:t.good[0].image}})])]),t._v(" "),a("div",{staticClass:"product-desc"},[a("ul",[a("li",[a("span",{staticClass:"product-desc-span"},[t._v("\n                    "+t._s(t.good[0].title)+"\n                ")])]),t._v(" "),a("li",{staticClass:"price-li"},[t._v("市场价：\n                    "),a("s",[t._v("￥"+t._s(t.good[0].price_original))]),t._v(" 销售价："),a("span",[t._v("￥"+t._s(t.good[0].price_current))])]),t._v(" "),a("li",{staticClass:"number-li"},[t._v("购买数量："),a("span",{on:{click:t.reduce}},[t._v("-")]),a("span",[t._v(t._s(t.num))]),a("span",{on:{click:t.add}},[t._v("+")])]),t._v(" "),a("li",[a("mt-button",{attrs:{type:"primary"}},[t._v("立即购买")]),t._v(" "),a("mt-button",{staticClass:"addShoppingCart",attrs:{type:"danger"},on:{click:t.addShoppingCart}},[t._v("加入购物车\n                        "),a("transition",{attrs:{name:"ball"},on:{"after-enter":t.afterenter}},[t.isShow?a("div",{staticClass:"ball"}):t._e()])],1)],1)])]),t._v(" "),a("div",{staticClass:"product-props"},[a("ul",[a("li",[t._v("商品参数")]),t._v(" "),a("li",[t._v("库存情况："+t._s(t.good[0].num)+"件")]),t._v(" "),a("li",[t._v("上架时间："+t._s(t._f("date")(t.good[0].lanched_date)))])])]),t._v(" "),a("div",{staticClass:"product-info"},[a("ul",[a("li",[a("router-link",{attrs:{to:{name:"goodspicandtext",query:{id:t.good[0].id}}}},[a("mt-button",{attrs:{type:"primary",size:"large",plain:""}},[t._v("图文介绍")])],1)],1),t._v(" "),a("li",[a("router-link",{attrs:{to:{name:"goodscommodit",query:{id:t.good[0].id}}}},[a("mt-button",{attrs:{type:"danger",size:"large",plain:""}},[t._v("商品评论")])],1)],1)])])],1)},staticRenderFns:[]};var o=a("VU/8")(s,n,!1,function(t){a("ZzGE")},"data-v-bb0723cc",null);i.default=o.exports},ZzGE:function(t,i){}});